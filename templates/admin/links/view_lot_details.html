<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VIEW LOT DETAILS</title>
    <link rel="stylesheet" href="{{ url_for('static', filename= '/CSS/admin_css/links/view_lot_details.css')}}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="icon" href="{{ url_for('static', filename='/images/form_images/form.webp') }}" type="image/x-icon">
    <style>
        body::-webkit-scrollbar {
            width: 0px;
            background: transparent;
        }
    </style>
</head>
<body id="page-body" class="page-body">
    <div class="lot-details" id="main-content">
        <div class="spots-cardboard">
            <div class="cross"><a href="/TruLotParking/role/adminDashboard"><i class="fa-solid fa-arrow-left fa-xl" style="margin-left: 1rem; color: #333333"></i></a></div>
            <div class="heading">
                <h2>CHOOSE A PARKING SPOT AND VIEW ITS DETAILS . . . .</h2>
                <div class="color-symbols">
                    <div class="green">
                        <div></div>
                        <p>Available</p>
                    </div>
                    <div class="red">
                        <div></div>
                        <p>Occupied</p>
                    </div>
                    <div class="yellow">
                        <div></div>
                        <p>Under Maintainence</p>
                    </div>
                </div>
            </div>
            <div class="spots-wrapper">
                {% for spot in spots %}
                    <div class="spot {% if spot.under_maintenance %} maintenance {% elif spot.occupied %} occupied{% else %} available {% endif %}" onclick="openSpotDetails('{{ spot.spot_id }}')">
                        {{ spot.spot_id }}
                    </div>
                {% endfor %}
            </div>
        </div>
        <div class="details">
            <h1>{{ lot.lot_name }}</h1>
            <div class="top-details">
                Charges, Availability & Location
            </div>
            <div class="available-slots">
                Available Parking Spots are {{ lot.available_spots }}
            </div>
            <div class="charges">Parking charges {{ lot.price_per_hr }}/hr</div>
            <div class="charges">Timings - {{ lot.timing }}</div>
            <div class="location">
                Near by Location is {{ lot.geographical_detail.location }}, {{ lot.geographical_detail.state }}, {{ lot.geographical_detail.country }}
            </div>
            <button><a href="/TruLotParking/role/adminDashboard/update-parkingLot-form?lot_id={{ lot.lot_id }}">UPDATE PARKING LOT</a></button>
        </div>
    </div>
    <div id="overlay-blur"></div>
    <div id="spot-detail-panel" class="detail-panel">
        <div class="panel-content">
            <div class="heading-div">
                <h2 id="head">Spot Details &nbsp; <p id="spot-id"></p></h2>
                <a href="#" id="view-parked-vehicle-details">Parked Vehicle Details</a>
            </div>
            <div id="spot-content">
                <p id="spot-status"></p>
                <div id="spot-content-div">
                    <p id="reserved-by"></p>
                    <p id="reserved-email"></p>
                    <p id="parking-time"></p>
                    <p id="leaving-time"></p>
                </div>
                <div id="panel-div">
                    <p id="lot-name"></p>
                    <p id="lot-location"></p>
                </div>
                <p><a href="#" id="check-parked-vehicle-details">Check Parked Vehicle Details</a></p>
            </div>
            <button onclick="closeSpotDetails()" id="spot-detail-btn">Close</button>
        </div>
    </div>
    <script src="{{ url_for('static', filename='JAVASCRIPT/admin/view_spot.js')}}"></script>
    {% include 'components/loader.html' %}
</body>
</html>