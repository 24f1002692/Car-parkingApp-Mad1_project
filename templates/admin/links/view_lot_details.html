<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VIEW LOT DETAILS</title>
    <link rel="stylesheet" href="{{ url_for('static', filename= '/CSS/admin_css/links/view_lot_details.css')}}">
    <style>
        .page-body {
            opacity: 0;
            transition: opacity 0.8s ease-in-out;
        }

        .page-body.visible {
            opacity: 1;
        }
        
        body::-webkit-scrollbar {
            width: 0px;
            background: transparent;
        }
    </style>
</head>
<body id="page-body" class="page-body">
    <div class="lot-details">
        <div class="spots-cardboard">
            <div class="heading">
                <h2>CHOOSE A PARKING SPOT AND VIEW ITS DETAILS . . . .</h2>
                <div class="color-symbols">
                    <div class="green">
                        <div></div>
                        <p>Available</p>
                    </div>
                    <div class="red">
                        <div></div>
                        <p>Occupied</p>
                    </div>
                    <div class="yellow">
                        <div></div>
                        <p>Under Maintainence</p>
                    </div>
                </div>
            </div>
            <div class="spots-wrapper">
                {% for spot in spots %}
                    <div class="spot {% if spot.under_maintenance %} maintenance {% elif spot.occupied %} occupied{% else %} available {% endif %}">
                        {{ spot.spot_id }}
                    </div>
                {% endfor %}
            </div>
        </div>
        <div class="details">
            <h1>{{ lot.lot_name }}</h1>
            <div class="top-details">
                Charges, Availability & Location
            </div>
            <div class="available-slots">
                Available Parking Spots are {{ lot.available_spots }}
            </div>
            <div class="charges">Parking charges {{ lot.price_per_hr }}/hr</div>
            <div class="location">
                Near by Location is {{ lot.geographical_detail.location }}, {{ lot.geographical_detail.state }}, {{ lot.geographical_detail.country }}
            </div>
            <button><a href="/TruLotParking/role/adminDashboard/update-parkingLot-form?lot_id={{ lot.lot_id }}">UPDATE PARKING LOT</a></button>
        </div>
    </div>    

    <script>
        const body = document.getElementById('page-body');
        function fadeInBody() {
            console.log('here')
            body.classList.remove('visible');
            void body.offsetWidth;                // force reflow to reset animation
            body.classList.add('visible');
        }

        document.addEventListener('DOMContentLoaded', fadeInBody);
        window.addEventListener('pageshow', fadeInBody); 
    </script>
</body>
</html>